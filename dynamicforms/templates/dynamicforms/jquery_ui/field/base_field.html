{% load dynamicforms %}
<div id="container-{{ field.uuid }}"
     class="{% if field.errors %}ui-error-container{% endif %}
{% if field.read_only and not style.serializer.is_filter or style.display == 'none' %}ui-helper-hidden{% endif %}
{% if field.read_only and not style.serializer.is_filter or style.display == 'none' %}{% else %}dynamicforms-table-row{% endif %}">

  {% block field_input_label %}
    {% if field.label %}
      <label id="label-{{ field.uuid }}" {% if style.hide_label %}class="ui-helper-hidden"{% endif %} class="dynamicforms-label">
        {{ field.label }}
      </label>
    {% endif %}

    <div>
    {% block field_input %}{% endblock %}
    </div>
  {% endblock %}

  {% if field.errors %}
    {% for error in field.errors %}
      <span class="ui-error-span dynamicforms-field-error-message">{{ error }}</span>
    {% endfor %}
  {% endif %}

  {% if field.help_text %}
    <span id="help-{{ field.uuid }}" class="help-block">{{ field.help_text|safe }}</span>
  {% endif %}
</div>
<script type="application/javascript">
  {% block field_onchange %}$('#{{ field.uuid }}')
    .on('change', function () { dynamicforms.fieldChange('{{ field.uuid }}', 'final'); });
  {% endblock %}
  {% block field_get %}dynamicforms
    .registerFieldGetter('{{ style.serializer.uuid }}', '{{ field.uuid }}', dynamicforms.fieldGetValue); {% endblock %}
  {% block field_set %}dynamicforms
    .registerFieldSetter('{{ style.serializer.uuid }}', '{{ field.uuid }}', dynamicforms.fieldSetValue); {% endblock %}
  {% render_table_commands style.serializer 'onfieldinit' field_name=field.uuid %}
</script>
